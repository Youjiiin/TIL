# 12장 함수

## 12.1 함수란?
: 일련의 과정을 문으로 구현하고 코드 블록으로 감싸서 하나의 실행 단위로 정의한 것이다. 함수는 `매개변수`를 전달 받고, 코드 블록 내에서 계산되어 `반환 값`을 내보낸다. 

## 12.2 함수를 사용하는 이유
함수를 사용하는 가장 큰 이유는 `코드의 재사용` 때문이다. 같은 작업을 진행할 때, 같은 코드를 여러번 작성하지 않고, 함수를 정의해 중복을 제거하고 코드를 재사용하고자 한다. 

## 12.3 함수 리터럴
```
let f = function add(x, y) {
    return x + y;
}
```
### 함수 리터럴의 구성요소
- 함수 이름 : 식별자 네이밍 규칙을 준수한다. 
- 매개변수 목록 : 함수를 호출할 때 지정한 인수가 순서대로 할당된다.
- 함수 몸체 : 함수의 호출에 의해 실행된다. 

### 특징
- 함수 리터럴은 호이스팅되지 않으므로, 정의된 이후에만 호출이 가능하다.
- 익명함수로 자주 사용되며, 변수에 할당되거나 인자로 전달되는 경우가 많다.

## 12.4 함수 정의

### 함수 선언문
```
function add(x, y) {
    return x + y;
}
```
- function 키워드로 함수를 선언하고, 함수 이름을 명시하며, 이름은 필수이다.
- 호이스팅이 일어나기 때문에 함수 선언문은 선언 이전에 호출할 수 있다.
- 전역 또는 지역 스코프에서 정의되며, 변수와 마찬가지로 블록 스코프 내에서만 유효하다.
> **컨벤션**
> 함수 시그니처에 공백을 넣는다. `const f = function () {};`

### 함수 표현식
```
var add = function (x, y) {
    return x + y;
}
```
- 함수가 표현식의 일부분으로 작성되며, 익명 함수일 수도 있고, 기명 함수일 수도 있다.
- 호이스팅되지 않습니다, 즉 함수 표현식으로 정의된 함수는 선언된 이후에만 호출할 수 있다.
- 함수는 변수나 상수에 할당되거나, 다른 함수의 인자로 전달된다.

> **컨벤션**
> 함수선언식 대신 기명 함수 표현식을 사용한다.
> : 호이스팅이 되어버리면 가독성과 유지관리성을 해친다. 

### Function 생성자 함수
```
var add = new Function('x', 'y', 'return x + y');
```
> **컨벤션**
> 함수 생성자를 사용하지 않도록 한다. 문자열을 평가해 함수를 만드는 것은 굉장한 취약점을 만든다. 

### 화살표 함수
```
const add = (x, y) => x + y;
```

## 12.5 함수 호출
### 매개변수와 인수
: 매개변수(parameter)를 통해 인수를 전달한다. 매개변수의 스코프는 함수 내부이다. 전달되지 않은 매개변수의 값은 `undefined`이다. 
> **컨벤션**
> - 매개변수 이름은 `arguments`라고 짓지 않는다. 
> - 절대로 매개변수를 재할당 하지 않는다. 

### 인수 확인
- 자바스크립트 함수는 매개변수와 인수의 개수가 일치하는지 확인하지 않는다. (매개변수의 개수가 달라도 괜찮다.)
- 자바스크립트는 동적 타입 언어이다. 따라서 자바스크립트 ㅎ마수는 매개변수의 타입을 사전에 지정할 수 없다. 

### 매개변수의 최대 개수
: 이상적인 함수는 한 가지 일만 해야하며 가급적 작게 만들어야 한다. 그러므로, 매개 변수는 **최대 3개 이상을 넘지 않도록 권장**한다.

### 반환문
: 함수는 return 키워드와 표현식으로 이뤄진 반환문을 사용해 실행 결과를 함수 외부로 반환할 수 있다. 

## 12.6 참조에 의한 전달과 외부 상태의 변경
: 매개변수의 타입에 따라 값에 의한 전달, 참조에 의한 전달 방식을 그대로 따른다. 원시 값을 매개변수로 받아 이를 가공해도 본래의 값은 변하지 않고, 객체 값을 전달받으면 원본 객체가 변경되는 부수 효과가 있다. 원본 객체가 변경되는 것을 막기 위해서는 **깊은 복사**를 해 불변 객체로 만들어 사용하면 된다. 

## 12.7 다양한 함수의 형태
### 즉시 실행 함수
: 함수 정의와 동시에 호출되는 함수, 호출할 일이 없어 보통 익명함수이다.재사용은 할 수 없다.
```
(function (a, b) {
    return a * b;
}(3, 5));
```
> **컨벤션**
> 즉시 호출 함수 표현식을 괄호로 감싸도록 한다. 

### 재귀 함수
: 함수가 자기 자신을 호출하는 함수를 말한다.재귀 함수는 반복 되는 처리를 반복문 없이 구현할 수 있다. 재귀 함수는 무한으로 재귀 호출을 하기에, **탈출 조건**을 반드시 만들어야 한다.
```
function countdown(n) {
    if (n < 0) return;
    console.log(n);
    countdown(n - 1);
}
```

### 중첩 함수
: 함수 내부에 정의된 함수를 중첩 함수 또는 내부 함수라한다.
```
function outer() {
    var x = 1;

    function inner() {
        var y = 1;
        console.log(x + y);
    }
    inner();
}
outer();
```

### 콜백 함수
: 함수의 매개변수를 통해 다른 함수의 내부로 전달되는 함수를 말한다. 매개 변수를 통해 함수의 외부에서 콜백 함수를 전달받은 함수를 고차함수라 한다. 
```
function repeat(n, f){
    for (var i = 0; i < n; i++) {
        f(i);
    }
}

var log All = function (i) {
    console.log(i);
};

repeat(5, logAll);
```

### 순수 함수와 비순수 함수
: 함수형 프로그래밍에서는 어떤 외부 상태에 의존하지도 않고 변경하지도 않는 함수를 순수 함수라하고, 외부 상태에 의존하거나 외부 상태를 변경하는 함수를 비순수 함수라 한다. 
```
// 순수 함수
function increase(n) {
    return ++n;
}

// 비순수 함수
function increase() {
    return ++count;
}
```

> **컨벤션**
> - 함수 이외의 블록(if, while 등)에서 함수를 선언하지 않는다. 브라우저 마다 모두 다르게 해석한다.