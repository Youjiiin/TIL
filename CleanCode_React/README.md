# 상태(State)
## 리액트의 상태
- 컴포넌트 상태
- 전역 상태
- 서버 상태
## 상태를 위한 행동
- 상태 변경
- 상태 최적화
- 렌더링 최적화
- 불변성
- 상태 관리자

## 올바른 초기값 설정
### 초기값?
- 가장 먼저 렌더링될 때 순간적으로 보여질 수 있는 값이기도 하다.
- 초기에 렌더링 되는 값

### 초기값이 지켜지지 않을 경우
- 렌더링 이슈 발생, 무한 루프, 타입 불일치로 의도치 않은 동작 => 런타임 에러 (많이 경험중)
- 초기값이 없다면 => undefined
- 상태를 CRUD(Create(생성), Read(읽기), Update(갱신), Delete(삭제)) => 상태를 지울때도 초기값을 잘 기억해놔야 원상태로 돌아간다.
- 빈값 => null처리를 하면 불필요한 방어코드도 줄여준다.

### 업데이트가 되지 않는 값(상수)
- 리액트 외부로 추출하도록 한다.
- 리액트 상태로 변경할 수 있다면 한다.

### 플래그 상태로 바꾸기
- 플래그 값 : 프로그래밍에서 주로 특정 조건 혹은 제어를 위한 조건을 불리언으로 나타내는 값(ex: isLogin)
- useState 대신 플래그로 상태를 정의할 수 있다.

```
    const isLogin = 
        hasToken &&
        hasCookie &&
        isValidCookie &&
        isValidToken;

    return <div>{isLogin && '00회원님 반갑습니다!'}<div>
```

### 불필요한 상태 제거하기
- 컴포넌트 내부에서의 변수는? : 렌더링마다 고유의 값을 가지는 계산된 값을 가진다.
- props를 useState에 넣지 않고 return문에 사용하기
- 컴포넌트 내부 변수는 렌더링마다 고유한 값을 가짐
- 따라서 useState가 아닌 const로 상태를 선언하는게 좋은 경우도 있음

### useState대신 useRef
- useRef는 가변 컨테이너이다.
- 한 번 고정된 값을 컴포넌트에서 계속해서 사용하는 값은 useState를 사용하지 않아도 된다. => 컴포넌트의 전체적인 수명과 동일하게 지속된 정보를 일관적으로 제공해야하는 경우